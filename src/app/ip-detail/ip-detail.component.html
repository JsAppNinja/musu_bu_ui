<div class="content-container">
	<div class="breadcrumb">
		<a mat-button matTooltip="Go back to query page." (click)="backButton()">
		    <mat-icon>arrow_back</mat-icon>Back to Query
		</a>
	</div>
	<mat-grid-list class="risk-circles-grid-list" cols="2" gutterSize="5px" rowHeight="210px">
		<mat-grid-tile class="risk-circles-grid-tile" colspan="1">
			<app-ip-risk-circle 
				[title]="circleTitle" 
				[subtitle]="circleSubtitle" 
				[riskLevel]="circleRiskLevel" 
				[backgroundColor]="circleBackgroundColor" 
				[outerStrokeColor]="circleOuterStrokeColor">
			</app-ip-risk-circle>
		</mat-grid-tile>
		<mat-grid-tile>
			<mat-form-field class="tags-input">
				<mat-chip-list #chipList>
					<mat-chip *ngFor="let tag of tags" [selectable]="selectable"
							[removable]="removable" (removed)="remove(tag)">
					{{tag}}
					<mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
					</mat-chip>
					<input placeholder="Add tags."
							[matChipInputFor]="chipList"
							[matChipInputSeparatorKeyCodes]="separatorKeysCodes"
							[matChipInputAddOnBlur]="addOnBlur"
							(matChipInputTokenEnd)="add($event)"
							[matAutocomplete]="auto"
							[formControl]="tagsFormControl"
							(paste)="paste($event)">
				</mat-chip-list>
				<mat-hint align="end">{{tags.length}} / {{tagsLimit}}</mat-hint>
			</mat-form-field>
			<!-- <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFn">
				<mat-option *ngFor="let tag of tags | async" [value]="tag">
					<span>{{tag.name}}</span> |
				</mat-option>
			</mat-autocomplete> -->
		</mat-grid-tile>
	</mat-grid-list>
	<div class="card-grid clearfix">
		<mat-card class="card-grid-card first">
		    <mat-card-title><mat-icon>warning</mat-icon> Threat</mat-card-title>
		    <mat-list role="list">
		        <mat-list-item role="listitem" *ngFor="let ipThreatDetailKey of getKeys(ipThreatDetail); last as last">
		            <h3 mat-line>{{fieldNames[ipThreatDetailKey]}}</h3>
		            <p mat-line> {{ipThreatDetail[ipThreatDetailKey]}} </p>
		          <mat-divider [inset]="true" *ngIf="!last"></mat-divider>
		        </mat-list-item>
		    </mat-list>
		</mat-card>
		<mat-card class="card-grid-card middle">
		    <mat-card-title><mat-icon>place</mat-icon> Geo-location</mat-card-title>
		    <mat-list role="list">
		        <mat-list-item role="listitem" *ngFor="let ipGeoDetailKey of getKeys(ipGeoDetail); last as last">
		            <h3 mat-line>{{fieldNames[ipGeoDetailKey]}}</h3>
		            <p mat-line> {{ipGeoDetail[ipGeoDetailKey]}} </p>
		          <mat-divider [inset]="true" *ngIf="!last"></mat-divider>
		        </mat-list-item>
		    </mat-list>
		</mat-card>
		<mat-card class="card-grid-card last">
		    <mat-card-title><mat-icon>network_check</mat-icon> ISP & Network Info</mat-card-title>
		    <mat-list role="list">
		        <mat-list-item style="height: auto;" role="listitem" *ngFor="let ipISPDetailKey of getKeys(ipISPDetail); last as last">
		            <h3 mat-line>{{fieldNames[ipISPDetailKey]}}</h3>
					<p mat-line *ngIf="!isArray(ipISPDetail[ipISPDetailKey])"> {{ipISPDetail[ipISPDetailKey]}} </p>
					<mat-chip-list mat-line style="padding-bottom: 10px;" #chipList *ngIf="isArray(ipISPDetail[ipISPDetailKey])">
						<mat-chip *ngFor="let detail of ipISPDetail[ipISPDetailKey]" [selectable]="selectable">
						{{detail}}
						</mat-chip>
					</mat-chip-list>
		          <mat-divider [inset]="true" *ngIf="!last"></mat-divider>
		        </mat-list-item>
		    </mat-list>
		</mat-card>
	</div>
</div>